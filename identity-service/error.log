{"level":"error","message":"Error while logging out refreshToken is not defined","service":"identity-service","stack":"ReferenceError: refreshToken is not defined\n    at logoutUser (D:\\HMC5768_POS\\identity-service\\src\\controllers\\identity-controller.js:134:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at module.exports (D:\\HMC5768_POS\\identity-service\\src\\middleware\\checkAuth.js:9:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:295:15","timestamp":"2025-06-06T08:28:58.207Z"}
{"level":"error","message":"Error while logging out refreshToken is not defined","service":"identity-service","stack":"ReferenceError: refreshToken is not defined\n    at logoutUser (D:\\HMC5768_POS\\identity-service\\src\\controllers\\identity-controller.js:134:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at module.exports (D:\\HMC5768_POS\\identity-service\\src\\middleware\\checkAuth.js:9:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:295:15","timestamp":"2025-06-06T08:29:27.050Z"}
{"level":"error","message":"Error while logging out RefreshToken is not defined","service":"identity-service","stack":"ReferenceError: RefreshToken is not defined\n    at logoutUser (D:\\HMC5768_POS\\identity-service\\src\\controllers\\identity-controller.js:142:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at module.exports (D:\\HMC5768_POS\\identity-service\\src\\middleware\\checkAuth.js:9:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:295:15","timestamp":"2025-06-06T08:31:30.139Z"}
{"level":"error","message":"Error while logging out RefreshToken is not defined","service":"identity-service","stack":"ReferenceError: RefreshToken is not defined\n    at logoutUser (D:\\HMC5768_POS\\identity-service\\src\\controllers\\identity-controller.js:142:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at module.exports (D:\\HMC5768_POS\\identity-service\\src\\middleware\\checkAuth.js:9:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:295:15","timestamp":"2025-06-06T08:31:38.576Z"}
{"level":"error","message":"Error while logging out refreshToken is not defined","service":"identity-service","stack":"ReferenceError: refreshToken is not defined\n    at logoutUser (D:\\HMC5768_POS\\identity-service\\src\\controllers\\identity-controller.js:135:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at module.exports (D:\\HMC5768_POS\\identity-service\\src\\middleware\\checkAuth.js:9:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:295:15","timestamp":"2025-06-06T08:32:41.600Z"}
{"level":"error","message":"Error while logging out refreshToken is not defined","service":"identity-service","stack":"ReferenceError: refreshToken is not defined\n    at logoutUser (D:\\HMC5768_POS\\identity-service\\src\\controllers\\identity-controller.js:135:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at module.exports (D:\\HMC5768_POS\\identity-service\\src\\middleware\\checkAuth.js:9:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:295:15","timestamp":"2025-06-06T08:33:00.596Z"}
{"level":"error","message":"Error while logging out RefreshToken is not defined","service":"identity-service","stack":"ReferenceError: RefreshToken is not defined\n    at logoutUser (D:\\HMC5768_POS\\identity-service\\src\\controllers\\identity-controller.js:142:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at module.exports (D:\\HMC5768_POS\\identity-service\\src\\middleware\\checkAuth.js:9:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:295:15","timestamp":"2025-06-06T08:34:03.400Z"}
{"level":"error","message":"Company created error occured user is not defined","service":"identity-service","stack":"ReferenceError: user is not defined\n    at createCompany (D:\\HMC5768_POS\\identity-service\\src\\controllers\\company-controller.js:36:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-06T09:07:04.024Z"}
{"level":"error","message":"Error occured company is not defined","service":"identity-service","stack":"ReferenceError: company is not defined\n    at editCompany (D:\\HMC5768_POS\\identity-service\\src\\controllers\\company-controller.js:72:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-06T09:33:26.245Z"}
{"kind":"ObjectId","level":"error","message":"Error occured Cast to ObjectId failed for value \"6842aff8a215377cfb49af2\" (type string) at path \"_id\" for model \"Company\"","path":"_id","reason":{},"service":"identity-service","stack":"CastError: Cast to ObjectId failed for value \"6842aff8a215377cfb49af2\" (type string) at path \"_id\" for model \"Company\"\n    at SchemaObjectId.cast (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\schemaType.js:1255:12)\n    at SchemaType.castForQuery (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\schemaType.js:1673:17)\n    at cast (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\query.js:5055:12)\n    at Query._castConditions (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\query.js:2351:10)\n    at model.Query._findOneAndDelete (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\query.js:3593:8)\n    at model.Query.exec (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\query.js:4604:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async deleteCompany (D:\\HMC5768_POS\\identity-service\\src\\controllers\\company-controller.js:74:28)","stringValue":"\"6842aff8a215377cfb49af2\"","timestamp":"2025-06-06T09:42:18.244Z","value":"6842aff8a215377cfb49af2","valueType":"string"}
{"level":"error","message":"Error occured validateCreateCompany is not defined","service":"identity-service","stack":"ReferenceError: validateCreateCompany is not defined\n    at createBranch (D:\\HMC5768_POS\\identity-service\\src\\controllers\\branch-controller.js:8:23)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at module.exports (D:\\HMC5768_POS\\identity-service\\src\\middleware\\checkAuth.js:9:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:295:15","timestamp":"2025-06-06T09:58:47.105Z"}
{"level":"error","message":"Error occured validateCreateCompany is not defined","service":"identity-service","stack":"ReferenceError: validateCreateCompany is not defined\n    at createBranch (D:\\HMC5768_POS\\identity-service\\src\\controllers\\branch-controller.js:8:23)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at module.exports (D:\\HMC5768_POS\\identity-service\\src\\middleware\\checkAuth.js:9:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:295:15","timestamp":"2025-06-06T09:58:49.944Z"}
{"level":"error","message":"Error occured Cannot populate path `Company` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"Company","service":"identity-service","stack":"StrictPopulateError: Cannot populate path `Company` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:50:12)\n    at _populatePath (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\model.js:4439:21)\n    at Function.populate (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\model.js:4406:21)\n    at model.Query._find (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\query.js:2433:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async model.Query.exec (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\query.js:4604:63)\n    at async getAllBranch (D:\\HMC5768_POS\\identity-service\\src\\controllers\\branch-controller.js:98:20)","timestamp":"2025-06-09T03:57:59.857Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: null }","index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":null}},"index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":null},"level":"error","message":"Registration error occured E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: null }","service":"identity-service","stack":"MongoServerError: E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: null }\n    at InsertOneOperation.execute (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-06-09T04:16:37.504Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: null }","index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":null}},"index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":null},"level":"error","message":"Registration error occured E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: null }","service":"identity-service","stack":"MongoServerError: E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: null }\n    at InsertOneOperation.execute (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-06-09T04:17:23.872Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: null }","index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":null}},"index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":null},"level":"error","message":"Registration error occured E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: null }","service":"identity-service","stack":"MongoServerError: E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: null }\n    at InsertOneOperation.execute (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-06-09T04:19:03.873Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: null }","index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":null}},"index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":null},"level":"error","message":"Registration error occured E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: null }","service":"identity-service","stack":"MongoServerError: E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: null }\n    at InsertOneOperation.execute (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-06-09T04:20:52.379Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: hcm5768_pos.users index: last_name_1 dup key: { last_name: null }","index":0,"keyPattern":{"last_name":1},"keyValue":{"last_name":null}},"index":0,"keyPattern":{"last_name":1},"keyValue":{"last_name":null},"level":"error","message":"Registration error occured E11000 duplicate key error collection: hcm5768_pos.users index: last_name_1 dup key: { last_name: null }","service":"identity-service","stack":"MongoServerError: E11000 duplicate key error collection: hcm5768_pos.users index: last_name_1 dup key: { last_name: null }\n    at InsertOneOperation.execute (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-06-09T04:22:31.071Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: hcm5768_pos.users index: last_name_1 dup key: { last_name: null }","index":0,"keyPattern":{"last_name":1},"keyValue":{"last_name":null}},"index":0,"keyPattern":{"last_name":1},"keyValue":{"last_name":null},"level":"error","message":"Registration error occured E11000 duplicate key error collection: hcm5768_pos.users index: last_name_1 dup key: { last_name: null }","service":"identity-service","stack":"MongoServerError: E11000 duplicate key error collection: hcm5768_pos.users index: last_name_1 dup key: { last_name: null }\n    at InsertOneOperation.execute (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-06-09T04:24:05.226Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }","index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":"Văn Tuấn"}},"index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":"Văn Tuấn"},"level":"error","message":"Registration error occured E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }","service":"identity-service","stack":"MongoServerError: E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }\n    at InsertOneOperation.execute (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-06-09T04:25:35.092Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }","index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":"Văn Tuấn"}},"index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":"Văn Tuấn"},"level":"error","message":"Registration error occured E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }","service":"identity-service","stack":"MongoServerError: E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }\n    at InsertOneOperation.execute (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-06-09T04:32:10.352Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }","index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":"Văn Tuấn"}},"index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":"Văn Tuấn"},"level":"error","message":"Registration error occured E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }","service":"identity-service","stack":"MongoServerError: E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }\n    at InsertOneOperation.execute (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-06-09T04:32:48.325Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }","index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":"Văn Tuấn"}},"index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":"Văn Tuấn"},"level":"error","message":"Registration error occured E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }","service":"identity-service","stack":"MongoServerError: E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }\n    at InsertOneOperation.execute (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-06-09T04:34:40.255Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }","index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":"Văn Tuấn"}},"index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":"Văn Tuấn"},"level":"error","message":"Registration error occured E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }","service":"identity-service","stack":"MongoServerError: E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }\n    at InsertOneOperation.execute (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-06-09T04:36:12.319Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }","index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":"Văn Tuấn"}},"index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":"Văn Tuấn"},"level":"error","message":"Registration error occured E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }","service":"identity-service","stack":"MongoServerError: E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }\n    at InsertOneOperation.execute (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-06-09T04:36:59.098Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }","index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":"Văn Tuấn"}},"index":0,"keyPattern":{"first_name":1},"keyValue":{"first_name":"Văn Tuấn"},"level":"error","message":"Registration error occured E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }","service":"identity-service","stack":"MongoServerError: E11000 duplicate key error collection: hcm5768_pos.users index: first_name_1 dup key: { first_name: \"Văn Tuấn\" }\n    at InsertOneOperation.execute (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-06-09T04:39:26.741Z"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Error occured getaddrinfo ENOTFOUND ac-yhkfduc-shard-00-01.n9qkij4.mongodb.net","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff0000000000000119"},"maxSetVersion":27,"servers":{"ac-yhkfduc-shard-00-00.n9qkij4.mongodb.net:27017":{"$clusterTime":null,"address":"ac-yhkfduc-shard-00-00.n9qkij4.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":252778858,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-yhkfduc-shard-00-01.n9qkij4.mongodb.net:27017":{"$clusterTime":null,"address":"ac-yhkfduc-shard-00-01.n9qkij4.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":252779030,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-yhkfduc-shard-00-02.n9qkij4.mongodb.net:27017":{"$clusterTime":null,"address":"ac-yhkfduc-shard-00-02.n9qkij4.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":252778858,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-qs0wxf-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"identity-service","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-yhkfduc-shard-00-01.n9qkij4.mongodb.net\n    at Topology.selectServer (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\sdam\\topology.js:321:38)\n    at async tryOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:145:18)\n    at async executeOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-06-09T05:23:43.548Z"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Error occured getaddrinfo ENOTFOUND ac-yhkfduc-shard-00-01.n9qkij4.mongodb.net","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff0000000000000119"},"maxSetVersion":27,"servers":{"ac-yhkfduc-shard-00-00.n9qkij4.mongodb.net:27017":{"$clusterTime":null,"address":"ac-yhkfduc-shard-00-00.n9qkij4.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":252794169,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-yhkfduc-shard-00-01.n9qkij4.mongodb.net:27017":{"$clusterTime":null,"address":"ac-yhkfduc-shard-00-01.n9qkij4.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":252794372,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"ac-yhkfduc-shard-00-02.n9qkij4.mongodb.net:27017":{"$clusterTime":null,"address":"ac-yhkfduc-shard-00-02.n9qkij4.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":252794201,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-qs0wxf-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"identity-service","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-yhkfduc-shard-00-01.n9qkij4.mongodb.net\n    at Topology.selectServer (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\sdam\\topology.js:321:38)\n    at async tryOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:145:18)\n    at async executeOperation (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (D:\\HMC5768_POS\\identity-service\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-06-09T05:23:58.779Z"}
{"kind":"ObjectId","level":"error","message":"Error occured Cast to ObjectId failed for value \"{ branch_id: '68464e4d8f8a5f0319021007' }\" (type Object) at path \"_id\" for model \"Branch\"","path":"_id","reason":{},"service":"identity-service","stack":"CastError: Cast to ObjectId failed for value \"{ branch_id: '68464e4d8f8a5f0319021007' }\" (type Object) at path \"_id\" for model \"Branch\"\n    at SchemaObjectId.cast (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\schemaType.js:1255:12)\n    at SchemaType.castForQuery (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\schemaType.js:1673:17)\n    at cast (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\cast.js:319:34)\n    at Query.cast (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\query.js:5055:12)\n    at Query._castConditions (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\query.js:2351:10)\n    at model.Query._findOne (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\query.js:2674:8)\n    at model.Query.exec (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\query.js:4604:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getBranchById (D:\\HMC5768_POS\\identity-service\\src\\controllers\\branch-controller.js:120:20)","stringValue":"\"{ branch_id: '68464e4d8f8a5f0319021007' }\"","timestamp":"2025-06-09T07:33:46.049Z","value":{"branch_id":"68464e4d8f8a5f0319021007"},"valueType":"Object"}
{"kind":"ObjectId","level":"error","message":"Error occured Cast to ObjectId failed for value \"{}\" (type Object) at path \"_id\" for model \"Department\"","path":"_id","reason":{},"service":"identity-service","stack":"CastError: Cast to ObjectId failed for value \"{}\" (type Object) at path \"_id\" for model \"Department\"\n    at SchemaObjectId.cast (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\schemaType.js:1255:12)\n    at SchemaType.castForQuery (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\schemaType.js:1673:17)\n    at cast (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\cast.js:319:34)\n    at Query.cast (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\query.js:5055:12)\n    at Query._castConditions (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\query.js:2351:10)\n    at model.Query._findOne (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\query.js:2674:8)\n    at model.Query.exec (D:\\HMC5768_POS\\identity-service\\node_modules\\mongoose\\lib\\query.js:4604:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async departmentGetById (D:\\HMC5768_POS\\identity-service\\src\\controllers\\department-controller.js:119:24)","stringValue":"\"{}\"","timestamp":"2025-06-09T07:54:11.228Z","value":{},"valueType":"Object"}
{"level":"error","message":"Redis have data","service":"identity-service","timestamp":"2025-06-09T08:44:28.901Z"}
{"level":"error","message":"Redis have data","service":"identity-service","timestamp":"2025-06-09T08:45:18.623Z"}
{"level":"error","message":"Redis have data","service":"identity-service","timestamp":"2025-06-09T08:45:21.006Z"}
{"level":"error","message":"Redis have data","service":"identity-service","timestamp":"2025-06-09T08:45:42.289Z"}
{"level":"error","message":"Redis have data","service":"identity-service","timestamp":"2025-06-09T08:45:49.124Z"}
{"level":"error","message":"Redis have data","service":"identity-service","timestamp":"2025-06-09T08:47:20.249Z"}
{"level":"error","message":"Error occured redisKey is not defined","service":"identity-service","stack":"ReferenceError: redisKey is not defined\n    at companyGetById (D:\\HMC5768_POS\\identity-service\\src\\controllers\\company-controller.js:155:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-09T09:23:21.114Z"}
{"level":"error","message":"Error occured redisKey is not defined","service":"identity-service","stack":"ReferenceError: redisKey is not defined\n    at companyGetById (D:\\HMC5768_POS\\identity-service\\src\\controllers\\company-controller.js:155:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-09T09:23:32.364Z"}
{"level":"error","message":"Error occured redisKey is not defined","service":"identity-service","stack":"ReferenceError: redisKey is not defined\n    at companyGetById (D:\\HMC5768_POS\\identity-service\\src\\controllers\\company-controller.js:155:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-09T09:24:50.712Z"}
{"level":"error","message":"Error occured redisClient is not defined","service":"identity-service","stack":"ReferenceError: redisClient is not defined\n    at getAllBranch (D:\\HMC5768_POS\\identity-service\\src\\controllers\\branch-controller.js:100:24)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at module.exports (D:\\HMC5768_POS\\identity-service\\src\\middleware\\checkAuth.js:31:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:295:15","timestamp":"2025-06-09T09:45:09.135Z"}
{"level":"error","message":"Error occured redisClient is not defined","service":"identity-service","stack":"ReferenceError: redisClient is not defined\n    at getAllBranch (D:\\HMC5768_POS\\identity-service\\src\\controllers\\branch-controller.js:100:24)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at module.exports (D:\\HMC5768_POS\\identity-service\\src\\middleware\\checkAuth.js:31:5)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\HMC5768_POS\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\HMC5768_POS\\identity-service\\node_modules\\router\\index.js:295:15","timestamp":"2025-06-09T09:45:27.593Z"}
{"level":"error","message":"Error occured department is not defined","service":"identity-service","stack":"ReferenceError: department is not defined\n    at getAllBranch (D:\\HMC5768_POS\\identity-service\\src\\controllers\\branch-controller.js:115:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-09T09:45:43.649Z"}
{"level":"error","message":"Error occured department is not defined","service":"identity-service","stack":"ReferenceError: department is not defined\n    at getAllBranch (D:\\HMC5768_POS\\identity-service\\src\\controllers\\branch-controller.js:115:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-09T09:46:38.716Z"}
{"level":"error","message":"Error occured Cannot read properties of null (reading '_id')","service":"identity-service","stack":"TypeError: Cannot read properties of null (reading '_id')\n    at editDepartment (D:\\HMC5768_POS\\identity-service\\src\\controllers\\department-controller.js:49:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-09T09:55:03.739Z"}
